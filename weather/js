let loc=document.getElementById("location");
let tempicon=document.getElementById("temp-icon");
let tempvalue=document.getElementById("temp-value");
let climate=document.getElementById("climate");
let iconfile;
const searchInput=document.getElementById("search-input");
const searchButton=document.getElementById("search-button");
/--load mean popup to allow for location--/
window.addEventListener("load",()=>{ 
    let long;  /--longitude of user--/
    let lat;    /--latitude of user--/



    if(navigator.geolocation)
    {
       navigator.geolocation.getCurrentPosition((position)=>
       {
           long=position.coords.longitude;  /--take longitude coordinates for user position--/
           lat=position.coords.latitude;   /--take latitude coordinates for user position--/
           const proxy="https://cors-anywhere.herokuapp.com/";
            const api=`${proxy}api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${long}&appid=0419ba32f9295561649a3cd0e0bb99ab`
         
           fetch(api) . then((response)=>{
              return response.json();

           })

           .then (data=>{
              const{name}=data;       /--convert json to normal data--/  
              const{feels_like}=data.main;
              const{id,main}=data.weather[0];

              loc.textContent=name;
              climate.textContent=main;
              tempvalue.textContent=Math.round(feels_like-273); /--273 minus to convert kelvin to temp--/

           })
        }
       
       
    )}
})
